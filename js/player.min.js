define(["settings","underscore","backbone","createjs","models/player","views/player","models/map-object"],function(e,t,n,r,i,s,o){var u=function(e){this.model=new i(e);this.view=new s({model:this.model});this.angle=0;this.vX=-5;this.vY=0;this.isSupported=!1},a=u.prototype;a.moveLeft=function(){this.model.set("facing","left");this.model.set("x",this.model.get("x")+3)};a.moveRight=function(){this.model.set("facing","right");this.model.set("x",this.model.get("x")-3)};a.aimUp=function(){this.model.set({aim:this.model.get("aim")-3},{validate:!0})};a.aimDown=function(){this.model.set({aim:this.model.get("aim")+3},{validate:!0})};a.nextPosition=function(){this.model.set("prevX",this.model.get("x"));this.model.set("prevY",this.model.get("y"));this.model.set("y",this.model.get("y")+this.vY);this.model.set("x",this.model.get("x")+this.vX);if(!this.isSupported)this.vY+=e.physics.gravity;else if(this.vX){this.vX<1&&(this.vX=0);this.vX*=e.physics.friction}this.vY*=1-e.physics.airFriction;this.vX*=1-e.physics.airFriction};return u});